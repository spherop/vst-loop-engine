<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loop Engine</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'fd-bg': '#0a0a0a',
                        'fd-surface': '#111111',
                        'fd-card': '#161616',
                        'fd-border': '#2a2a2a',
                        'fd-accent': '#ff6b35',
                        'fd-accent-dim': '#cc5429',
                        'fd-text': '#888888',
                        'fd-text-dim': '#555555',
                        'fd-highlight': '#ff8c5a',
                    },
                    fontFamily: {
                        'display': ['Orbitron', 'sans-serif'],
                        'mono': ['JetBrains Mono', 'SF Mono', 'Monaco', 'monospace'],
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Inline critical fonts */
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=JetBrains+Mono:wght@400;500;700&display=swap');

        /* Custom scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #0a0a0a; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #ff6b35; }

        /* Decorative line */
        .accent-line {
            height: 2px;
            background: linear-gradient(90deg, transparent, #ff6b35, transparent);
        }

        /* Section glow on hover */
        .section-card {
            transition: all 0.2s ease;
        }
        .section-card:hover {
            border-color: #333;
            box-shadow: 0 0 20px rgba(255, 107, 53, 0.05);
        }
    </style>
</head>
<body class="bg-fd-bg text-white font-sans h-screen overflow-hidden select-none">
    <div class="flex flex-col h-full max-w-2xl mx-auto">

        <!-- Header with Logo and Tabs -->
        <header class="flex items-center justify-between px-4 py-3 border-b border-fd-border">
            <!-- Logo (left) -->
            <div class="flex items-baseline gap-1">
                <h1 class="font-display text-lg font-black tracking-[0.3em] text-fd-accent uppercase"
                    style="text-shadow: 0 0 20px rgba(255, 107, 53, 0.4);">
                    LOOP
                </h1>
                <span class="font-display text-[9px] font-bold tracking-[0.4em] text-fd-text-dim uppercase">
                    ENGINE
                </span>
            </div>

            <!-- Tabs (right) -->
            <nav class="tab-bar flex gap-1">
                <button class="tab active" data-tab="looper">
                    <span class="tab-label">LOOPER</span>
                </button>
                <button class="tab" data-tab="delay">
                    <span class="tab-led" id="delay-led"></span>
                    <span class="tab-label">DELAY</span>
                </button>
                <button class="tab" data-tab="degrade">
                    <span class="tab-led" id="degrade-led"></span>
                    <span class="tab-label">DEGRADE</span>
                </button>
            </nav>
        </header>

        <!-- Main Content -->
        <main class="flex-1 flex flex-col gap-4 px-4 pb-3 overflow-y-auto">

            <!-- LOOPER Tab Content -->
            <div id="looper-tab" class="tab-content active flex flex-col gap-4">
                <!-- Transport Controls -->
                <section class="section-card bg-fd-card rounded-lg border border-fd-border relative overflow-hidden">
                    <div class="absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-fd-accent/30 to-transparent"></div>
                    <div class="p-4">
                        <!-- Loop Length Selector - Bars + Beats -->
                        <div class="flex justify-center items-center gap-3 mb-3">
                            <span class="font-display text-[9px] font-bold tracking-[2px] text-fd-text-dim uppercase">LENGTH</span>
                            <div class="loop-length-selector flex items-center gap-2">
                                <select class="bars-select" id="bars-select" title="Bars (0 = free mode)">
                                    <option value="0">FREE</option>
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5</option>
                                    <option value="6">6</option>
                                    <option value="7">7</option>
                                    <option value="8">8</option>
                                    <option value="12">12</option>
                                    <option value="16">16</option>
                                </select>
                                <span class="font-display text-[9px] font-bold tracking-[1px] text-fd-text-dim uppercase">BARS</span>
                                <span class="text-fd-text-dim">+</span>
                                <select class="beats-select" id="beats-select" title="Additional beats">
                                    <option value="0">0</option>
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5</option>
                                    <option value="6">6</option>
                                    <option value="7">7</option>
                                </select>
                                <span class="font-display text-[9px] font-bold tracking-[1px] text-fd-text-dim uppercase">BEATS</span>
                            </div>
                        </div>
                        <!-- Transport Buttons -->
                        <!-- Blooper-style: REC toggles between record/play/overdub -->
                        <div class="flex justify-center items-center gap-4">
                            <button id="rec-btn" class="transport-btn rec">
                                <span class="transport-icon">&#9679;</span>
                                <span class="transport-label">REC</span>
                            </button>
                            <button id="loop-play-btn" class="transport-btn play">
                                <span class="transport-icon">&#9658;</span>
                                <span class="transport-label">PLAY</span>
                            </button>
                            <button id="loop-stop-btn" class="transport-btn stop">
                                <span class="transport-icon">&#9632;</span>
                                <span class="transport-label">STOP</span>
                            </button>
                            <button id="undo-btn" class="transport-btn undo">
                                <span class="transport-icon">&#8617;</span>
                                <span class="transport-label">UNDO</span>
                            </button>
                            <button id="redo-btn" class="transport-btn redo">
                                <span class="transport-icon">&#8618;</span>
                                <span class="transport-label">REDO</span>
                            </button>
                            <button id="clear-btn" class="transport-btn clear">
                                <span class="transport-icon">&#10005;</span>
                                <span class="transport-label">CLEAR</span>
                            </button>
                        </div>
                    </div>
                </section>

                <!-- Waveform Display -->
                <section class="section-card bg-fd-card rounded-lg border border-fd-border relative overflow-hidden">
                    <div class="absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-fd-accent/20 to-transparent"></div>
                    <div class="p-4">
                        <div class="waveform-container" id="waveform-container">
                            <canvas id="waveform-canvas" class="waveform-canvas"></canvas>
                            <!-- Loop region shading -->
                            <div id="loop-region-shade" class="loop-region-shade"></div>
                            <div id="playhead" class="playhead"></div>
                            <div id="loop-region" class="loop-region">
                                <div id="loop-start-handle" class="loop-handle start"></div>
                                <div id="loop-end-handle" class="loop-handle end"></div>
                            </div>
                            <!-- Recording indicator overlay -->
                            <div id="recording-overlay" class="recording-overlay hidden">
                                <div class="recording-indicator">
                                    <span class="rec-dot"></span>
                                    <span class="rec-text">RECORDING</span>
                                    <span id="rec-time" class="rec-time">0.0s</span>
                                </div>
                                <div id="input-level" class="input-level-meter">
                                    <div id="input-level-bar" class="input-level-bar"></div>
                                </div>
                            </div>
                        </div>
                        <!-- Controls row -->
                        <div class="flex justify-between items-center mt-3">
                            <!-- Zoom controls -->
                            <div class="flex items-center gap-2">
                                <button id="zoom-out-btn" class="zoom-btn" title="Zoom out">-</button>
                                <span id="zoom-level" class="font-mono text-[10px] text-fd-text-dim">1.0x</span>
                                <button id="zoom-in-btn" class="zoom-btn" title="Zoom in">+</button>
                                <button id="zoom-fit-btn" class="zoom-btn-text" title="Fit to view">FIT</button>
                            </div>
                            <!-- Layer Indicators -->
                            <div class="flex items-center gap-2">
                                <span class="font-display text-[9px] font-bold tracking-[2px] text-fd-text-dim uppercase">LAYER</span>
                                <div class="layer-indicators flex gap-1">
                                    <button class="layer-btn active" data-layer="1">1</button>
                                    <button class="layer-btn" data-layer="2">2</button>
                                    <button class="layer-btn" data-layer="3">3</button>
                                    <button class="layer-btn" data-layer="4">4</button>
                                    <button class="layer-btn" data-layer="5">5</button>
                                    <button class="layer-btn" data-layer="6">6</button>
                                    <button class="layer-btn" data-layer="7">7</button>
                                    <button class="layer-btn" data-layer="8">8</button>
                                </div>
                            </div>
                            <!-- Time display -->
                            <span id="loop-time-display" class="font-mono text-xs text-fd-text">0.0s / 60.0s</span>
                        </div>
                    </div>
                </section>

                <!-- Loop Controls -->
                <section class="section-card bg-fd-card rounded-lg border border-fd-border relative overflow-hidden">
                    <div class="absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-fd-accent/20 to-transparent"></div>
                    <div class="p-4">
                        <div class="flex justify-center items-end gap-8">
                            <!-- START -->
                            <div class="flex flex-col items-center gap-2">
                                <div class="knob knob-medium" id="loopStart-knob">
                                    <div class="knob-indicator"></div>
                                </div>
                                <span class="font-mono text-xs font-medium text-white" id="loopStart-value">0%</span>
                                <span class="font-display text-[8px] font-bold tracking-[2px] text-fd-text-dim uppercase">START</span>
                            </div>

                            <!-- END -->
                            <div class="flex flex-col items-center gap-2">
                                <div class="knob knob-medium" id="loopEnd-knob">
                                    <div class="knob-indicator"></div>
                                </div>
                                <span class="font-mono text-xs font-medium text-white" id="loopEnd-value">100%</span>
                                <span class="font-display text-[8px] font-bold tracking-[2px] text-fd-text-dim uppercase">END</span>
                            </div>

                            <!-- SPEED - Hidden for now, pitch changes speed in tape mode -->
                            <div class="flex flex-col items-center gap-2 hidden" id="loopSpeed-group">
                                <div class="knob knob-medium" id="loopSpeed-knob">
                                    <div class="knob-indicator"></div>
                                </div>
                                <span class="font-mono text-xs font-medium text-white" id="loopSpeed-value">1.0x</span>
                                <span class="font-display text-[8px] font-bold tracking-[2px] text-fd-text-dim uppercase">SPEED</span>
                            </div>

                            <!-- PITCH -->
                            <div class="flex flex-col items-center gap-2">
                                <div class="knob knob-medium" id="loopPitch-knob">
                                    <div class="knob-indicator"></div>
                                </div>
                                <select class="pitch-select" id="pitch-select">
                                    <option value="-12">-12</option>
                                    <option value="-11">-11</option>
                                    <option value="-10">-10</option>
                                    <option value="-9">-9</option>
                                    <option value="-8">-8</option>
                                    <option value="-7">-7</option>
                                    <option value="-6">-6</option>
                                    <option value="-5">-5</option>
                                    <option value="-4">-4</option>
                                    <option value="-3">-3</option>
                                    <option value="-2">-2</option>
                                    <option value="-1">-1</option>
                                    <option value="0" selected>0</option>
                                    <option value="1">+1</option>
                                    <option value="2">+2</option>
                                    <option value="3">+3</option>
                                    <option value="4">+4</option>
                                    <option value="5">+5</option>
                                    <option value="6">+6</option>
                                    <option value="7">+7</option>
                                    <option value="8">+8</option>
                                    <option value="9">+9</option>
                                    <option value="10">+10</option>
                                    <option value="11">+11</option>
                                    <option value="12">+12</option>
                                </select>
                                <span class="font-display text-[8px] font-bold tracking-[2px] text-fd-text-dim uppercase">PITCH</span>
                            </div>

                            <!-- FADE -->
                            <div class="flex flex-col items-center gap-2">
                                <div class="knob knob-medium" id="loopFade-knob">
                                    <div class="knob-indicator"></div>
                                </div>
                                <span class="font-mono text-xs font-medium text-white" id="loopFade-value">100%</span>
                                <span class="font-display text-[8px] font-bold tracking-[2px] text-fd-text-dim uppercase">FADE</span>
                            </div>

                            <!-- REVERSE -->
                            <div class="flex flex-col items-center gap-2">
                                <button class="toggle-btn" id="reverse-btn">
                                    <span class="toggle-icon">&#8634;</span>
                                    <span class="toggle-label font-display">REV</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <!-- DELAY Tab Content -->
            <div id="delay-tab" class="tab-content hidden flex flex-col gap-4">
                <!-- DELAY Section -->
                <section class="section-card bg-fd-card rounded-lg border border-fd-border relative overflow-hidden">
                    <!-- Section accent -->
                    <div class="absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-fd-accent/30 to-transparent"></div>

                    <div class="p-4">
                        <h2 class="font-display text-[10px] font-bold tracking-[3px] text-fd-text-dim uppercase mb-4">
                            // DELAY
                        </h2>
                        <div class="flex justify-center gap-10">
                            <!-- TIME -->
                            <div class="flex flex-col items-center gap-2">
                                <div class="knob knob-large" id="delayTime-knob">
                                    <div class="knob-indicator"></div>
                                </div>
                                <span class="font-mono text-sm font-medium text-white" id="delayTime-value">300 ms</span>
                                <span class="font-display text-[8px] font-bold tracking-[2px] text-fd-text-dim uppercase">TIME</span>
                            </div>

                            <!-- FEEDBACK -->
                            <div class="flex flex-col items-center gap-2">
                                <div class="knob knob-large" id="feedback-knob">
                                    <div class="knob-indicator"></div>
                                </div>
                                <span class="font-mono text-sm font-medium text-white" id="feedback-value">40%</span>
                                <span class="font-display text-[8px] font-bold tracking-[2px] text-fd-text-dim uppercase">FEEDBACK</span>
                            </div>

                            <!-- TONE -->
                            <div class="flex flex-col items-center gap-2">
                                <div class="knob knob-large" id="tone-knob">
                                    <div class="knob-indicator"></div>
                                </div>
                                <span class="font-mono text-sm font-medium text-white" id="tone-value">4.0 kHz</span>
                                <span class="font-display text-[8px] font-bold tracking-[2px] text-fd-text-dim uppercase">TONE</span>
                            </div>

                            <!-- MIX -->
                            <div class="flex flex-col items-center gap-2">
                                <div class="knob knob-large" id="mix-knob">
                                    <div class="knob-indicator"></div>
                                </div>
                                <span class="font-mono text-sm font-medium text-white" id="mix-value">50%</span>
                                <span class="font-display text-[8px] font-bold tracking-[2px] text-fd-text-dim uppercase">MIX</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- CHARACTER Section -->
                <section class="section-card bg-fd-card rounded-lg border border-fd-border relative overflow-hidden">
                    <div class="absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-fd-accent/20 to-transparent"></div>

                    <div class="p-4">
                        <h2 class="font-display text-[10px] font-bold tracking-[3px] text-fd-text-dim uppercase mb-4">
                            // CHARACTER
                        </h2>
                        <div class="flex justify-center gap-10">
                            <!-- AGE -->
                            <div class="flex flex-col items-center gap-2">
                                <div class="knob knob-medium" id="age-knob">
                                    <div class="knob-indicator"></div>
                                </div>
                                <span class="font-mono text-xs font-medium text-white" id="age-value">25%</span>
                                <span class="font-display text-[8px] font-bold tracking-[2px] text-fd-text-dim uppercase">AGE</span>
                            </div>

                            <!-- RATE -->
                            <div class="flex flex-col items-center gap-2">
                                <div class="knob knob-medium" id="modRate-knob">
                                    <div class="knob-indicator"></div>
                                </div>
                                <span class="font-mono text-xs font-medium text-white" id="modRate-value">0.5 Hz</span>
                                <span class="font-display text-[8px] font-bold tracking-[2px] text-fd-text-dim uppercase">RATE</span>
                            </div>

                            <!-- DEPTH -->
                            <div class="flex flex-col items-center gap-2">
                                <div class="knob knob-medium" id="modDepth-knob">
                                    <div class="knob-indicator"></div>
                                </div>
                                <span class="font-mono text-xs font-medium text-white" id="modDepth-value">3 ms</span>
                                <span class="font-display text-[8px] font-bold tracking-[2px] text-fd-text-dim uppercase">DEPTH</span>
                            </div>

                            <!-- WARMTH -->
                            <div class="flex flex-col items-center gap-2">
                                <div class="knob knob-medium" id="warmth-knob">
                                    <div class="knob-indicator"></div>
                                </div>
                                <span class="font-mono text-xs font-medium text-white" id="warmth-value">30%</span>
                                <span class="font-display text-[8px] font-bold tracking-[2px] text-fd-text-dim uppercase">WARMTH</span>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <!-- DEGRADE Tab Content -->
            <div id="degrade-tab" class="tab-content hidden flex flex-col gap-4">
                <!-- FILTER Section -->
                <section class="section-card degrade-section bg-fd-card rounded-lg border border-fd-border relative overflow-hidden">
                    <div class="absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-degrade-accent/30 to-transparent"></div>
                    <div class="p-4">
                        <div class="flex items-center gap-3 mb-4">
                            <div class="section-led degrade-led active" id="filter-led"></div>
                            <h2 class="font-display text-[10px] font-bold tracking-[3px] text-fd-text-dim uppercase">// FILTER</h2>
                        </div>
                        <!-- Filter Visualization -->
                        <div class="filter-viz-container mb-4">
                            <canvas id="filter-viz-canvas" class="filter-viz-canvas" width="500" height="60"></canvas>
                        </div>
                        <div class="flex justify-center gap-6">
                            <!-- HP Freq -->
                            <div class="flex flex-col items-center gap-2">
                                <div class="knob knob-large degrade-knob" id="degradeHP-knob">
                                    <div class="knob-indicator"></div>
                                </div>
                                <span class="font-mono text-sm font-medium text-white" id="degradeHP-value">20Hz</span>
                                <span class="font-display text-[8px] font-bold tracking-[2px] text-fd-text-dim uppercase">HP FREQ</span>
                            </div>
                            <!-- HP Q -->
                            <div class="flex flex-col items-center gap-2">
                                <div class="knob knob-medium degrade-knob" id="degradeHPQ-knob">
                                    <div class="knob-indicator"></div>
                                </div>
                                <span class="font-mono text-xs font-medium text-white" id="degradeHPQ-value">0.7</span>
                                <span class="font-display text-[8px] font-bold tracking-[2px] text-fd-text-dim uppercase">HP Q</span>
                            </div>
                            <!-- LP Freq -->
                            <div class="flex flex-col items-center gap-2">
                                <div class="knob knob-large degrade-knob" id="degradeLP-knob">
                                    <div class="knob-indicator"></div>
                                </div>
                                <span class="font-mono text-sm font-medium text-white" id="degradeLP-value">20kHz</span>
                                <span class="font-display text-[8px] font-bold tracking-[2px] text-fd-text-dim uppercase">LP FREQ</span>
                            </div>
                            <!-- LP Q -->
                            <div class="flex flex-col items-center gap-2">
                                <div class="knob knob-medium degrade-knob" id="degradeLPQ-knob">
                                    <div class="knob-indicator"></div>
                                </div>
                                <span class="font-mono text-xs font-medium text-white" id="degradeLPQ-value">0.7</span>
                                <span class="font-display text-[8px] font-bold tracking-[2px] text-fd-text-dim uppercase">LP Q</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- LO-FI Section -->
                <section class="section-card degrade-section bg-fd-card rounded-lg border border-fd-border relative overflow-hidden">
                    <div class="absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-degrade-accent/20 to-transparent"></div>
                    <div class="p-4">
                        <div class="flex items-center gap-3 mb-4">
                            <div class="section-led degrade-led active" id="lofi-led"></div>
                            <h2 class="font-display text-[10px] font-bold tracking-[3px] text-fd-text-dim uppercase">// LO-FI</h2>
                        </div>
                        <div class="flex justify-center gap-10">
                            <!-- Bit Depth -->
                            <div class="flex flex-col items-center gap-2">
                                <div class="knob knob-large degrade-knob" id="degradeBit-knob">
                                    <div class="knob-indicator"></div>
                                </div>
                                <span class="font-mono text-sm font-medium text-white" id="degradeBit-value">16-bit</span>
                                <span class="font-display text-[8px] font-bold tracking-[2px] text-fd-text-dim uppercase">BIT DEPTH</span>
                            </div>
                            <!-- Sample Rate -->
                            <div class="flex flex-col items-center gap-2">
                                <div class="knob knob-large degrade-knob" id="degradeSR-knob">
                                    <div class="knob-indicator"></div>
                                </div>
                                <span class="font-mono text-sm font-medium text-white" id="degradeSR-value">48kHz</span>
                                <span class="font-display text-[8px] font-bold tracking-[2px] text-fd-text-dim uppercase">SAMPLE RATE</span>
                            </div>
                            <!-- Wobble -->
                            <div class="flex flex-col items-center gap-2">
                                <div class="knob knob-large degrade-knob" id="degradeWobble-knob">
                                    <div class="knob-indicator"></div>
                                </div>
                                <span class="font-mono text-sm font-medium text-white" id="degradeWobble-value">0%</span>
                                <span class="font-display text-[8px] font-bold tracking-[2px] text-fd-text-dim uppercase">WOBBLE</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- SCRAMBLER Section -->
                <section class="section-card degrade-section bg-fd-card rounded-lg border border-fd-border relative overflow-hidden">
                    <div class="absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-degrade-accent/20 to-transparent"></div>
                    <div class="p-4">
                        <div class="flex items-center gap-3 mb-4">
                            <div class="section-led degrade-led active" id="scrambler-led"></div>
                            <h2 class="font-display text-[10px] font-bold tracking-[3px] text-fd-text-dim uppercase">// SCRAMBLER</h2>
                        </div>
                        <div class="flex justify-center items-end gap-8">
                            <!-- Subdivision Selector -->
                            <div class="flex flex-col items-center gap-2">
                                <select class="subdiv-select" id="scramble-subdiv">
                                    <option value="0">OFF</option>
                                    <option value="1">1/4</option>
                                    <option value="2">1/8</option>
                                    <option value="3">1/16</option>
                                    <option value="4">1/32</option>
                                </select>
                                <span class="font-display text-[8px] font-bold tracking-[2px] text-fd-text-dim uppercase">SUBDIV</span>
                            </div>
                            <!-- Amount Knob -->
                            <div class="flex flex-col items-center gap-2">
                                <div class="knob knob-large degrade-knob" id="degradeScrambleAmt-knob">
                                    <div class="knob-indicator"></div>
                                </div>
                                <span class="font-mono text-sm font-medium text-white" id="degradeScrambleAmt-value">50%</span>
                                <span class="font-display text-[8px] font-bold tracking-[2px] text-fd-text-dim uppercase">AMOUNT</span>
                            </div>
                            <!-- Mix Knob -->
                            <div class="flex flex-col items-center gap-2">
                                <div class="knob knob-large degrade-knob" id="degradeMix-knob">
                                    <div class="knob-indicator"></div>
                                </div>
                                <span class="font-mono text-sm font-medium text-white" id="degradeMix-value">100%</span>
                                <span class="font-display text-[8px] font-bold tracking-[2px] text-fd-text-dim uppercase">MIX</span>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

        </main>

        <!-- Footer - Tempo Sync -->
        <footer class="py-3 px-4 border-t border-fd-border bg-fd-surface/50">
            <div class="flex items-center justify-between">
                <!-- Version ticker -->
                <div class="flex items-center gap-1">
                    <span class="font-mono text-[9px] text-fd-text-dim" id="version-ticker">v0.1.5</span>
                </div>
                <!-- Tempo controls -->
                <div class="flex items-center gap-6">
                    <!-- Host Transport Sync LED -->
                    <div class="flex items-center gap-2">
                        <span class="host-sync-led" id="host-sync-led" title="Sync looper to host transport"></span>
                        <span class="font-display text-[9px] font-bold tracking-[2px] text-fd-text-dim uppercase">HOST</span>
                    </div>
                    <div class="w-[1px] h-4 bg-fd-border"></div>
                    <div class="flex items-center gap-2">
                        <span class="font-display text-[9px] font-bold tracking-[2px] text-fd-text-dim uppercase">BPM</span>
                        <span class="font-mono text-base font-bold text-fd-accent" id="bpm-display"
                              style="text-shadow: 0 0 10px rgba(255, 107, 53, 0.3);">120.0</span>
                    </div>
                    <div class="w-[1px] h-4 bg-fd-border"></div>
                    <button class="toggle-btn-small" id="tempo-sync-toggle">
                        <span class="toggle-label font-display">SYNC</span>
                    </button>
                    <select class="note-select" id="note-value-select">
                        <option value="0">1/4</option>
                        <option value="1" selected>1/8</option>
                        <option value="2">1/8T</option>
                        <option value="3">1/16</option>
                        <option value="4">1/16T</option>
                        <option value="5">1/32</option>
                    </select>
                </div>
                <!-- Spacer to balance layout -->
                <div class="w-12"></div>
            </div>
        </footer>
    </div>

    <script src="main.js"></script>
</body>
</html>
